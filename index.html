<html>
<head>
	<title>The Official 4D Miner Website!</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<style>
	/*@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');*/
	
	@font-face {
		font-family: "4D Miner";
		src: url("4D Miner.ttf");
	}
	
	body {
		margin: 0;
		font-family: "4D Miner";
		font-size: 24px;
		text-align: center;
		background-color: black;
		overflow-x: hidden;
	}

	#bgVideoContainer {
		position: absolute;
		top: 0;
		left: 0;
		z-index: -1;
		width: 100vw;
		height: 100vh;
		overflow: hidden;
	}

	#bgVideo {
		display: block;
		position: fixed;
		left: 50%;
		top: 50%;
		transform: translate(-50%, -50%);
		-webkit-filter: blur(5px);
		-moz-filter: blur(5px);
		-o-filter: blur(5px);
		-ms-filter: blur(5px);
		filter: blur(5px);
		pointer-events: none;
		transition: opacity 3s;
		object-fit: cover;
	}

	@media screen and (max-aspect-ratio: 16/9) {
		#bgVideo {
			height: 100%;
		}
	}

	@media screen and (min-aspect-ratio: 16/9) {
		#bgVideo {
			width: 100%;
		}
	}

	.content {
		display: inline-block;
		position: relative;
		border: 2px solid #c700c7;
		border-radius: 20px;
		background: rgba(0, 0, 0, 0.7);
		color: #f1f1f1;
		width: calc(100% - 500px);
		min-width: 300px;
		padding: 20px;
		padding-bottom: 64px;
		z-index: 50;
	}

	#Frank {
		position: absolute;
		width: 64px;
		height: auto;
		top: -64px;
		right: 0px;
	}

	#Fernanda {
		position: absolute;
		width: 64px;
		height: auto;
		bottom: 0px;
		left: 0px;
	}

	.jumping-forg {
		animation-name: forg-jump;
		animation-duration: 0.5s;
	}

	@keyframes forg-jump {
		0% {
			transform: translate(0px, 0px);
			/* animation-timing-function: cubic-bezier(0.27, 0.88, .58, 1); */
			animation-timing-function: cubic-bezier(0.29, 0.61, 0.63, 1);
		}

		50% {
			transform: translate(0px, -100px);
			/* animation-timing-function: cubic-bezier(0.42, 0, 0.73, 0.12); */
			animation-timing-function: cubic-bezier(0.37, 0, 0.71, 0.39);
		}

		100% {
			transform: translate(0px, 0px);
		}
	}

	.button-4d {
		font-size: 25px;
		box-sizing: border-box;
		height: 50px;
		padding-left: 20px;
		padding-right: 20px;
		/*border: 2px solid #bcbcbc;*/
		border: 0px;
		border-radius: 2px;
		/*background-color: rgba(0, 0, 0, 0.7);*/
		background-color: rgba(0, 0, 0, 0);
		color: #fff;
		cursor: pointer;
		font-family: "4D Miner", /*"Press Start 2P", */Monospace;
		position: relative;
		/* account for the negative ::after z-index */
		z-index: 1;
	}

	/* this allows us to control the z-index of the button background */
	.button-4d::before {
		content: "";
		display: block;
		position: absolute;
		border: 0px;
		/*box-sizing: border-box;*/
		border-radius: 2px;
		left: 0;
		right: 0;
		top: 0;
		height: 50px;
		background-color: rgba(0, 0, 0, 0.7);
		/* position background behind text and 4d glitch effect */
		z-index: -1;
	}

	/* this allows us to control the z-index of the button border */
	.button-4d::after {
		content: "";
		display: block;
		position: absolute;
		border: 2px solid #bcbcbc;
		box-sizing: border-box;
		left: 0;
		right: 0;
		top: 0;
		border-radius: 2px;
		height: 50px;
		background-color: rgba(0, 0, 0, 0);
		z-index: 1;
	}

	.button-4d:active {
		/*background-color: rgba(255, 255, 255, 0.7);*/
		text-shadow: none !important;
	}

	.button-4d:active::before {
		background-color: rgba(255, 255, 255, 0.7);
	}

	.button-4d:active div {
		visibility: hidden;
	}

	.button-4d div {
		width: 100%;
		height: 100%;
		position: absolute;
		top: 0px;
		left: 5px;
		box-sizing: border-box;
		border-radius: 2px;
		z-index: -1;
		pointer-events: none;
	}

	#logo {
		padding: 50px 0px 50px 0px;
	}

	.embed-container { 
		position: relative; 
		overflow: hidden;
		max-width: 100%;
		height: auto;
	}

	@media screen and (max-width: 1600px) {
		#Frank {
			bottom: 0px;
			top: auto;
		}
	}
	
	@media screen and (max-width: 1200px) {
		.content {
			width: calc(100% - 300px);
		}
	}

	@media screen and (max-width: 900px) {
		#logo {
			width: 672px;
		}

		.content {
			font-size: 25;
		}

		.content h1 {
			font-size: 35;
		}

		.content h2 {
			font-size: 30;
		}

		.embed-container {
			padding-bottom: 56.25%;
		}

		.embed-container iframe,	
		.embed-container object,
		.embed-container embed { 
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
		}
	}

	@media screen and (max-width: 700px) {
		#logo {
			width: 448px;
		}

		.content {
			width: calc(100% - 200px);
			font-size: 20;
		}

		.content h1 {
			font-size: 30;
		}

		.content h2 {
			font-size: 25;
		}

		.button-4d {
			height: 37.5px;
			font-size: 18.75px;
			padding-left: 15px;
			padding-right: 15px;
		}

		.button-4d::before {
			height: 37.5px;
		}

		.button-4d::after {
			height: 37.5px;
		}
	}

	@media screen and (max-width: 450px) {
		#logo {
			width: 224px;
		}

		@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
			#logo {
				width: 336px;
			}
		}

		.content {
			width: calc(100% - 100px);
			font-size: 15;
		}

		.content h1 {
			font-size: 20;
		}

		.content h2 {
			font-size: 20;
		}

		.button-4d {
			height: 25px;
			font-size: 12.5px;
			padding-left: 10px;
			padding-right: 10px;
		}

		.button-4d::before {
			height: 25px;
		}

		.button-4d::after {
			height: 25px;
		}
	}
	</style>
</head>
<body>
	<img id="logo" src="logo.png">
	<br>

	<div id="bgVideoContainer">
		<video autoplay muted loop disablepictureinpicture id="bgVideo" style="opacity: 0;">
			Your browser does not support HTML5 video.
		</video>
	</div>

	<div class="content">
		<h1>Welcome to the official 4D Miner website!</h1>
		<a href="https://discord.gg/pMtZa6AVy2" target="_blank"><button class="button-4d">Official Discord!</button></a>
		<br>
		<br>
		<a href="https://store.steampowered.com/app/1941640/4D_Miner/" target="_blank"><button class="button-4d">Wishlist on Steam!</button></a>
		<br>
		<br>
		<p>4D Miner is a 4-dimensional survival sandbox game, where you can explore an infinite, procedurally-generated, 4-dimensional world!</p>
		<br>
		<h2>Latest Devlog:</h2>
		<div class="embed-container">
			<iframe width="560" height="315" src="https://www.youtube.com/embed/f4CMKoVgqOM?si=G0IEKXQBXBo3L2dY" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
		</div>
		<br>
		<br>
		<h2>More Links:</h2>
		<a href="https://youtube.com/Mashpoe/"><button class="button-4d">YouTube Channel</button></a>
		<br>
		<br>
		<a href="https://patreon.com/Mashpoe/"><button class="button-4d">Patreon</button></a>
		<br>
		<br>
		<a href="https://4d-miner.fandom.com/"><button class="button-4d">Wiki</button></a>
		<br>
		<br>
		<a href="https://reddit.com/r/4D_Miner" target="_blank"><button class="button-4d">Subreddit</button></a>
		<br>
		<br>
		<a href="https://4d-modding.com" target="_blank"><button class="button-4d">Modding Tools<span style="font-size: 8px">(by Tr1Ngle)</span></button></a>
		<br>
		<br>
		<img src="Frank.gif" id="Frank" title="Frank">
		<img src="Fernanda.gif" id="Fernanda" title="Fernanda">
	</div>
	<br>
	<br>
	<br>
	<br>
	<br>

	<script>
	let bgVideo = document.getElementById("bgVideo");
	bgVideo.addEventListener('loadeddata', () =>
	{
		bgVideo.style.opacity = "1";
	}, false);
	bgVideo.src = "4dm_bg.mp4";

	const buttons4D = document.querySelectorAll('.button-4d');
	buttons4D.forEach(element =>
	{
		let intervalId;

		let divA = document.createElement("div");
		let divB = document.createElement("div");
		
		divA.style.border = "2px solid rgba(255, 0, 255, 0.7)";
		divB.style.border = "2px solid rgba(0, 255, 255, 0.7)";

		element.addEventListener('mouseover', () =>
		{
			element.appendChild(divA);
			element.appendChild(divB);

			intervalId = setInterval(() =>
			{
				// get random point in circle with a given radius
				const radius = 2.5 * 2;

				let pt_angle_1 = Math.random() * 2 * Math.PI;
				let pt_radius_sq_1 = Math.random() * radius * radius;
				let pt_x_1 = Math.sqrt(pt_radius_sq_1) * Math.cos(pt_angle_1);
				let pt_y_1 = Math.sqrt(pt_radius_sq_1) * Math.sin(pt_angle_1);

				let pt_angle_2 = Math.random() * 2 * Math.PI;
				let pt_radius_sq_2 = Math.random() * radius * radius;
				let pt_x_2 = Math.sqrt(pt_radius_sq_2) * Math.cos(pt_angle_2);
				let pt_y_2 = Math.sqrt(pt_radius_sq_2) * Math.sin(pt_angle_2);
				
				let pt_angle = Math.random() * 2 * Math.PI;
				let pt_radius_sq = Math.random() * radius * radius;

				element.style.textShadow = `rgba(255, 0, 255, 0.7) ${pt_x_1}px ${pt_y_1}px, rgba(0, 255, 255, 0.7) ${pt_x_2}px ${pt_y_2}px`;
				divA.style.left = pt_x_1 + "px";
				divA.style.top = pt_y_1 + "px";
				divB.style.left = pt_x_2 + "px";
				divB.style.top = pt_y_2 + "px";
			}, 15);
		});

		element.addEventListener('mouseout', () =>
		{
			clearInterval(intervalId);
			element.style.textShadow = ``;
			element.removeChild(divA);
			element.removeChild(divB);
		});
	});
	
	const headings = document.querySelectorAll("h1, h2, h3, h4, h5, h6");
	document.addEventListener("mousemove", (event) =>
	{
		const cursorX = event.clientX;
		const cursorY = event.clientY;

		headings.forEach((element) =>
		{
			const elementRect = element.getBoundingClientRect();
			const elementCenterX = elementRect.left + elementRect.width / 2;
			const elementCenterY = elementRect.top + elementRect.height / 2;

			let offsetX = (cursorX - elementCenterX) / (elementRect.width / 300);
			let offsetY = (cursorY - elementCenterY) / (elementRect.width / 300);

			let maxDistance = Math.sqrt(
				(elementRect.width / 2) * (elementRect.width / 2) +
				(elementRect.height / 2) * (elementRect.height / 2)
			) / 3;

			const distance = Math.sqrt(offsetX * offsetX + offsetY * offsetY);

			const opacity = 0.7 * (1 - distance / maxDistance);

			element.style.textShadow = `rgba(255, 0, 255, ${opacity}) ${offsetX / 10}px ${offsetY / 10}px, rgba(0, 255, 255, ${opacity}) ${-offsetX / 10}px ${-offsetY / 10}px`;
		});
	});

	let Frank = document.getElementById("Frank");
	Frank.onclick = () =>
	{
		Frank.src = "FrankJump.png";
		Frank.classList.toggle("jumping-forg");
		window.setTimeout(() =>
		{
			Frank.src = "Frank.gif";
			Frank.classList.toggle("jumping-forg");
		}, 500);
	}

	let Fernanda = document.getElementById("Fernanda");
	Fernanda.onclick = () =>
	{
		Fernanda.src = "FernandaJump.png";
		Fernanda.classList.toggle("jumping-forg");
		window.setTimeout(() =>
		{
			Fernanda.src = "Fernanda.gif";
			Fernanda.classList.toggle("jumping-forg");
		}, 500);
	}
	</script>
</body>
</html>
