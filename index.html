<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<style>

	body {
		margin: 0;
		font-family: "4D Miner";
		font-size: 24px;
		text-align: center;
		background-color: black;
		overflow-x: hidden;
	}

	#bgVideoContainer {
		position: absolute;
		top: 0;
		left: 0;
		z-index: -1;
		width: 100vw;
		height: 100vh;
		overflow: hidden;
	}

	#bgVideo {
		display: block;
		position: fixed;
		left: 50%;
		top: 50%;
		transform: translate(-50%, -50%);
		-webkit-filter: blur(5px);
		-moz-filter: blur(5px);
		-o-filter: blur(5px);
		-ms-filter: blur(5px);
		filter: blur(5px);
		pointer-events: none;
	}

	@media screen and (max-aspect-ratio: 16/9) {
		#bgVideo {
			height: 100%;
		}
	}
	@media screen and (min-aspect-ratio: 16/9) {
		#bgVideo {
			width: 100%;
		}
	}

	.content {
		display: inline-block;
		border: 2px solid #c700c7;
		border-radius: 20px;
		background: rgba(0, 0, 0, 0.7);
		color: #f1f1f1;
		width: calc(100% - 500px);
		min-width: 300px;
		padding: 20px;
		z-index: 50;
		overflow-x: scroll;
	}

	.button-4d {
		font-size: 25px;
		box-sizing: border-box;
		height: 50px;
		padding-left: 20px;
		padding-right: 20px;
		/*border: 2px solid #bcbcbc;*/
		border: 0px;
		border-radius: 2px;
		/*background-color: rgba(0, 0, 0, 0.7);*/
		background-color: rgba(0, 0, 0, 0);
		color: #fff;
		cursor: pointer;
		font-family: "4D Miner";
		position: relative;
		/* account for the negative ::after z-index */
		z-index: 1;
	}

	/* this allows us to control the z-index of the button background */
	.button-4d::before {
		content: "";
		display: block;
		position: absolute;
		border: 0px;
		/*box-sizing: border-box;*/
		border-radius: 2px;
		left: 0;
		right: 0;
		top: 0;
		height: 50px;
		background-color: rgba(0, 0, 0, 0.7);
		/* position background behind text and 4d glitch effect */
		z-index: -1;
	}

	/* this allows us to control the z-index of the button border */
	.button-4d::after {
		content: "";
		display: block;
		position: absolute;
		border: 2px solid #bcbcbc;
		box-sizing: border-box;
		left: 0;
		right: 0;
		top: 0;
		border-radius: 2px;
		height: 50px;
		background-color: rgba(0, 0, 0, 0);
		z-index: 1;
	}

	.button-4d:active {
		/*background-color: rgba(255, 255, 255, 0.7);*/
		text-shadow: none !important;
	}

	.button-4d:active::before {
		background-color: rgba(255, 255, 255, 0.7);
	}

	.button-4d:active div {
		visibility: hidden;
	}

	.button-4d div {
		width: 100%;
		height: 100%;
		position: absolute;
		top: 0px;
		left: 5px;
		box-sizing: border-box;
		border-radius: 2px;
		z-index: -1;
		pointer-events: none;
	}

	#logo {
		padding: 50px 0px 50px 0px;
	}

	@media screen and (max-width: 900px) {
		#logo {
			width: 672px;
		}
		.content {
			width: calc(100% - 300px);
		}
	}
	@media screen and (max-width: 700px) {
		#logo {
			width: 448px;
		}
		.content {
			width: calc(100% - 200px);
		}
	}
	@media screen and (max-width: 500px) {
		#logo {
			width: 224px;
		}
		.content {
			width: calc(100% - 100px);
		}
	}
	</style>
</head>
<body>
	<img id="logo" src="logo.png">
	<br>

	<div id="bgVideoContainer">
		<video autoplay muted loop id="bgVideo">
			<source src="4dm_bg.mp4" type="video/mp4">
			Your browser does not support HTML5 video.
		</video>
	</div>

	<div class="content">
		<h1>Welcome to the official 4D Miner website!</h1>
		<a href="https://discord.gg/pMtZa6AVy2" target="_blank"><button class="button-4d">Official Discord!</button></a>
		<br>
		<br>
		<a href="https://store.steampowered.com/app/1941640/4D_Miner/" target="_blank"><button class="button-4d">Wishlist on Steam!</button></a>
		<br>
		<br>
		<p>4D Miner is a 4-dimensional survival sandbox game, where you can explore an infinite, procedurally-generated, 4-dimensional world!</p>
		<br>
		<h2>Latest Devlog:</h2>
		<iframe width="560" height="315" src="https://www.youtube.com/embed/f4CMKoVgqOM?si=G0IEKXQBXBo3L2dY" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
		<br>
		<br>
		<h2>More Links:</h2>
		<a href="https://youtube.com/Mashpoe/"><button class="button-4d">YouTube Channel</button></a>
		<br>
		<br>
		<a href="https://patreon.com/Mashpoe/"><button class="button-4d">Patreon</button></a>
		<br>
		<br>
		<a href="https://4d-miner.fandom.com/"><button class="button-4d">Wiki</button></a>
		<br>
		<br>
		<a href="https://reddit.com/r/4D_Miner" target="_blank"><button class="button-4d">Subreddit</button></a>
		<br>
		<br>
		<a href="https://4d-modding.com" target="_blank"><button class="button-4d">Modding Tools<span style="font-size: 8px">(by Tr1Ngle)</span></button></a>
		<br>
		<br>
	</div>
	<br>
	<br>
	<br>
	<br>
	<br>

	<script>
	const buttons4D = document.querySelectorAll('.button-4d');
	buttons4D.forEach(element =>
	{
		let intervalId;

		let divA = document.createElement("div");
		let divB = document.createElement("div");
		
		divA.style.border = "2px solid rgba(255, 0, 255, 0.7)";
		divB.style.border = "2px solid rgba(0, 255, 255, 0.7)";

		element.addEventListener('mouseover', () =>
		{
			element.appendChild(divA);
			element.appendChild(divB);

			intervalId = setInterval(() =>
			{
				// get random point in circle with a given radius
				const radius = 2.5 * 2;

				let pt_angle_1 = Math.random() * 2 * Math.PI;
				let pt_radius_sq_1 = Math.random() * radius * radius;
				let pt_x_1 = Math.sqrt(pt_radius_sq_1) * Math.cos(pt_angle_1);
				let pt_y_1 = Math.sqrt(pt_radius_sq_1) * Math.sin(pt_angle_1);

				let pt_angle_2 = Math.random() * 2 * Math.PI;
				let pt_radius_sq_2 = Math.random() * radius * radius;
				let pt_x_2 = Math.sqrt(pt_radius_sq_2) * Math.cos(pt_angle_2);
				let pt_y_2 = Math.sqrt(pt_radius_sq_2) * Math.sin(pt_angle_2);
				
				let pt_angle = Math.random() * 2 * Math.PI;
				let pt_radius_sq = Math.random() * radius * radius;

				element.style.textShadow = `rgba(255, 0, 255, 0.7) ${pt_x_1}px ${pt_y_1}px, rgba(0, 255, 255, 0.7) ${pt_x_2}px ${pt_y_2}px`;
				divA.style.left = pt_x_1 + "px";
				divA.style.top = pt_y_1 + "px";
				divB.style.left = pt_x_2 + "px";
				divB.style.top = pt_y_2 + "px";
			}, 15);
		});

		element.addEventListener('mouseout', () =>
		{
			clearInterval(intervalId);
			element.style.textShadow = ``;
			element.removeChild(divA);
			element.removeChild(divB);
		});
	});
	
	const headings = document.querySelectorAll("h1, h2, h3, h4, h5, h6");
	document.addEventListener("mousemove", (event) =>
	{
		const cursorX = event.clientX;
		const cursorY = event.clientY;

		headings.forEach((element) =>
		{
			const elementRect = element.getBoundingClientRect();
			const elementCenterX = elementRect.left + elementRect.width / 2;
			const elementCenterY = elementRect.top + elementRect.height / 2;

			let offsetX = (cursorX - elementCenterX) / (elementRect.width / 300);
			let offsetY = (cursorY - elementCenterY) / (elementRect.width / 300);

			let maxDistance = Math.sqrt(
				(elementRect.width / 2) * (elementRect.width / 2) +
				(elementRect.height / 2) * (elementRect.height / 2)
			) / 3;

			const distance = Math.sqrt(offsetX * offsetX + offsetY * offsetY);

			const opacity = 0.7 * (1 - distance / maxDistance);

			element.style.textShadow = `rgba(255, 0, 255, ${opacity}) ${offsetX / 10}px ${offsetY / 10}px, rgba(0, 255, 255, ${opacity}) ${-offsetX / 10}px ${-offsetY / 10}px`;
		});
	});
	</script>
</body>
</html>